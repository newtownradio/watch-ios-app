{"ast":null,"code":"import { FormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/data-persistence.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction DiscoveryComponent_div_35_div_12_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 42);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const listing_r2 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate2(\" \", listing_r2.brand, \" \", listing_r2.model, \" \");\n  }\n}\nfunction DiscoveryComponent_div_35_div_12_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 43);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const listing_r2 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" Condition: \", listing_r2.condition, \" \");\n  }\n}\nfunction DiscoveryComponent_div_35_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 39);\n    i0.ɵɵtemplate(1, DiscoveryComponent_div_35_div_12_span_1_Template, 2, 2, \"span\", 40)(2, DiscoveryComponent_div_35_div_12_span_2_Template, 2, 1, \"span\", 41);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const listing_r2 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", listing_r2.brand && listing_r2.model);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", listing_r2.condition);\n  }\n}\nfunction DiscoveryComponent_div_35_span_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 44);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const listing_r2 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate2(\" \", listing_r2.bids.length, \" bid\", listing_r2.bids.length > 1 ? \"s\" : \"\", \" \");\n  }\n}\nfunction DiscoveryComponent_div_35_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 23)(1, \"div\", 24);\n    i0.ɵɵelement(2, \"img\", 25);\n    i0.ɵɵelementStart(3, \"button\", 26);\n    i0.ɵɵlistener(\"click\", function DiscoveryComponent_div_35_Template_button_click_3_listener() {\n      const listing_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.toggleFavorite(listing_r2.id));\n    });\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"div\", 27)(6, \"h3\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"p\", 28);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"p\", 29);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(12, DiscoveryComponent_div_35_div_12_Template, 3, 2, \"div\", 30);\n    i0.ɵɵelementStart(13, \"div\", 31)(14, \"span\");\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"span\");\n    i0.ɵɵtext(17, \"\\u2B50 4.8\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(18, \"div\", 32)(19, \"span\", 33);\n    i0.ɵɵtext(20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(21, DiscoveryComponent_div_35_span_21_Template, 2, 2, \"span\", 34);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"div\", 35)(23, \"span\", 36);\n    i0.ɵɵtext(24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"span\", 37);\n    i0.ɵɵtext(26);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(27, \"button\", 38);\n    i0.ɵɵlistener(\"click\", function DiscoveryComponent_div_35_Template_button_click_27_listener() {\n      const listing_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.shareListing(listing_r2));\n    });\n    i0.ɵɵtext(28, \" \\uD83D\\uDCE4 Share \");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const listing_r2 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", listing_r2.imageUrl || \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjBmMGYwIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzk5OSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPldhdGNoPC90ZXh0Pjwvc3ZnPg==\", i0.ɵɵsanitizeUrl)(\"alt\", listing_r2.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.isFavorited(listing_r2.id) ? \"\\u2764\\uFE0F\" : \"\\uD83E\\uDD0D\", \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(listing_r2.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"$\", listing_r2.currentPrice.toLocaleString());\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(listing_r2.description);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", listing_r2.brand || listing_r2.model);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(listing_r2.sellerName);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.getTimeRemaining(listing_r2.endTime), \" left \");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", listing_r2.bids.length > 0);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" Posted: \", ctx_r2.getListingStartTime(listing_r2.createdAt), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" Ends: \", ctx_r2.getListingEndTime(listing_r2.endTime), \" \");\n  }\n}\nfunction DiscoveryComponent_div_36_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 45)(1, \"p\");\n    i0.ɵɵtext(2, \"No listings found matching your criteria\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 46);\n    i0.ɵɵlistener(\"click\", function DiscoveryComponent_div_36_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.clearFilters());\n    });\n    i0.ɵɵtext(4, \"Clear Filters\");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport class DiscoveryComponent {\n  constructor(dataService) {\n    this.dataService = dataService;\n    this.searchTerm = '';\n    this.showFavoritesOnly = false;\n    // Demo user ID - in production this would come from auth service\n    this.currentUserId = 'demo-user-123';\n    this.listings = [];\n    this.favorites = [];\n  }\n  ngOnInit() {\n    this.loadListings();\n    this.loadFavorites();\n  }\n  get filteredListings() {\n    return this.listings.filter(listing => {\n      const matchesSearch = !this.searchTerm || listing.title.toLowerCase().includes(this.searchTerm.toLowerCase()) || listing.sellerName.toLowerCase().includes(this.searchTerm.toLowerCase());\n      const matchesPrice = (!this.minPrice || listing.currentPrice >= this.minPrice) && (!this.maxPrice || listing.currentPrice <= this.maxPrice);\n      const matchesFavorites = !this.showFavoritesOnly || this.isFavorited(listing.id);\n      return matchesSearch && matchesPrice && matchesFavorites;\n    });\n  }\n  performSearch() {\n    // Trigger search - the filteredListings getter will automatically update\n    console.log('Search performed:', this.searchTerm);\n  }\n  toggleFavorite(listingId) {\n    if (this.isFavorited(listingId)) {\n      this.dataService.removeFromFavorites(this.currentUserId, listingId);\n    } else {\n      this.dataService.addToFavorites(this.currentUserId, listingId);\n    }\n    this.loadFavorites();\n  }\n  isFavorited(listingId) {\n    return this.dataService.isFavorited(this.currentUserId, listingId);\n  }\n  deleteListing(listingId) {\n    if (confirm('Are you sure you want to delete this listing?')) {\n      this.dataService.deleteListing(listingId);\n      this.loadListings();\n      alert('Listing deleted successfully!');\n    }\n  }\n  clearFilters() {\n    this.searchTerm = '';\n    this.minPrice = undefined;\n    this.maxPrice = undefined;\n    this.showFavoritesOnly = false;\n  }\n  getTimeRemaining(endTime) {\n    const now = new Date();\n    const timeLeft = endTime.getTime() - now.getTime();\n    if (timeLeft <= 0) {\n      return 'Expired';\n    }\n    const hours = Math.floor(timeLeft / (1000 * 60 * 60));\n    const minutes = Math.floor(timeLeft % (1000 * 60 * 60) / (1000 * 60));\n    if (hours > 24) {\n      const days = Math.floor(hours / 24);\n      return `${days}d ${hours % 24}h`;\n    } else if (hours > 0) {\n      return `${hours}h ${minutes}m`;\n    } else {\n      return `${minutes}m`;\n    }\n  }\n  getListingStartTime(createdAt) {\n    return createdAt.toLocaleString('en-US', {\n      month: 'short',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit',\n      hour12: true\n    });\n  }\n  getListingEndTime(endTime) {\n    return endTime.toLocaleString('en-US', {\n      month: 'short',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  }\n  shareListing(listing) {\n    const shareText = `⌚ ${listing.title} - $${listing.currentPrice.toLocaleString()}\\n\\n` + `📅 Sale ends: ${this.getListingEndTime(listing.endTime)}\\n` + `⏰ Time remaining: ${this.getTimeRemaining(listing.endTime)}\\n\\n` + `Check out this watch on Watch iOS!`;\n    // Try to use Web Share API first (mobile devices)\n    if (navigator.share) {\n      navigator.share({\n        title: listing.title,\n        text: shareText,\n        url: window.location.href\n      }).catch(error => {\n        console.log('Error sharing:', error);\n        this.fallbackShare(shareText);\n      });\n    } else {\n      // Fallback to clipboard copy\n      this.fallbackShare(shareText);\n    }\n  }\n  fallbackShare(shareText) {\n    // Copy to clipboard\n    if (navigator.clipboard) {\n      navigator.clipboard.writeText(shareText).then(() => {\n        alert('Listing details copied to clipboard! 📋');\n      }).catch(() => {\n        // Final fallback - show in alert\n        alert(`Share this listing:\\n\\n${shareText}`);\n      });\n    } else {\n      // Final fallback - show in alert\n      alert(`Share this listing:\\n\\n${shareText}`);\n    }\n  }\n  loadListings() {\n    // Get active listings from data service\n    this.listings = this.dataService.getActiveListings();\n    // If no listings exist, create some demo data\n    if (this.listings.length === 0) {\n      this.createDemoListings();\n    }\n  }\n  loadFavorites() {\n    this.favorites = this.dataService.getUserFavorites(this.currentUserId);\n  }\n  createDemoListings() {\n    const demoListings = [{\n      id: this.dataService.generateId(),\n      sellerId: 'seller-1',\n      sellerName: 'LuxuryWatches',\n      title: 'Rolex Submariner',\n      description: 'Classic dive watch with excellent condition',\n      startingPrice: 8500,\n      currentPrice: 8500,\n      imageUrl: '',\n      createdAt: new Date(),\n      endTime: new Date(Date.now() + 48 * 60 * 60 * 1000),\n      // 48 hours from now\n      status: 'active',\n      bids: [],\n      counteroffers: [],\n      hasMadeCounteroffer: false\n    }, {\n      id: this.dataService.generateId(),\n      sellerId: 'seller-2',\n      sellerName: 'TimepieceCollector',\n      title: 'Omega Speedmaster',\n      description: 'Moonwatch with original bracelet',\n      startingPrice: 4200,\n      currentPrice: 4200,\n      imageUrl: '',\n      createdAt: new Date(),\n      endTime: new Date(Date.now() + 48 * 60 * 60 * 1000),\n      status: 'active',\n      bids: [],\n      counteroffers: [],\n      hasMadeCounteroffer: false\n    }, {\n      id: this.dataService.generateId(),\n      sellerId: 'seller-3',\n      sellerName: 'VintageLuxury',\n      title: 'Cartier Santos',\n      description: 'Elegant square case with leather strap',\n      startingPrice: 6800,\n      currentPrice: 6800,\n      imageUrl: '',\n      createdAt: new Date(),\n      endTime: new Date(Date.now() + 48 * 60 * 60 * 1000),\n      status: 'active',\n      bids: [],\n      counteroffers: [],\n      hasMadeCounteroffer: false\n    }, {\n      id: this.dataService.generateId(),\n      sellerId: 'seller-4',\n      sellerName: 'SwissTime',\n      title: 'Tudor Black Bay',\n      description: 'Heritage diver with in-house movement',\n      startingPrice: 3200,\n      currentPrice: 3200,\n      imageUrl: '',\n      createdAt: new Date(),\n      endTime: new Date(Date.now() + 48 * 60 * 60 * 1000),\n      status: 'active',\n      bids: [],\n      counteroffers: [],\n      hasMadeCounteroffer: false\n    }, {\n      id: this.dataService.generateId(),\n      sellerId: 'seller-5',\n      sellerName: 'JapaneseWatches',\n      title: 'Seiko Prospex',\n      description: 'Professional diver with excellent lume',\n      startingPrice: 450,\n      currentPrice: 450,\n      imageUrl: '',\n      createdAt: new Date(),\n      endTime: new Date(Date.now() + 48 * 60 * 60 * 1000),\n      status: 'active',\n      bids: [],\n      counteroffers: [],\n      hasMadeCounteroffer: false\n    }, {\n      id: this.dataService.generateId(),\n      sellerId: 'seller-6',\n      sellerName: 'SportWatches',\n      title: 'Tag Heuer Carrera',\n      description: 'Chronograph with racing heritage',\n      startingPrice: 2800,\n      currentPrice: 2800,\n      imageUrl: '',\n      createdAt: new Date(),\n      endTime: new Date(Date.now() + 48 * 60 * 60 * 1000),\n      status: 'active',\n      bids: [],\n      counteroffers: [],\n      hasMadeCounteroffer: false\n    }];\n    // Save demo listings\n    demoListings.forEach(listing => {\n      this.dataService.saveListing(listing);\n    });\n    // Reload listings\n    this.loadListings();\n  }\n  static #_ = this.ɵfac = function DiscoveryComponent_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || DiscoveryComponent)(i0.ɵɵdirectiveInject(i1.DataPersistenceService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: DiscoveryComponent,\n    selectors: [[\"app-discovery\"]],\n    decls: 37,\n    vars: 7,\n    consts: [[1, \"discovery-page\"], [1, \"page-header\"], [1, \"search-section\"], [1, \"search-bar\"], [1, \"search-input-group\"], [\"type\", \"text\", \"placeholder\", \"Search watches, sellers...\", \"id\", \"search-input\", 1, \"search-input\", 3, \"ngModelChange\", \"keyup.enter\", \"ngModel\"], [\"type\", \"button\", 1, \"search-btn\", 3, \"click\"], [1, \"filters\"], [1, \"price-range\"], [\"for\", \"min-price\"], [1, \"price-inputs\"], [\"type\", \"number\", \"placeholder\", \"Min\", \"id\", \"min-price\", 1, \"price-input\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"number\", \"placeholder\", \"Max\", \"id\", \"max-price\", 1, \"price-input\", 3, \"ngModelChange\", \"ngModel\"], [1, \"favorites-filter\"], [\"for\", \"favorites-only\", 1, \"checkbox-label\"], [\"type\", \"checkbox\", \"id\", \"favorites-only\", 1, \"checkbox\", 3, \"ngModelChange\", \"ngModel\"], [1, \"filter-buttons\"], [\"type\", \"button\", 1, \"search-filters-btn\", 3, \"click\"], [\"type\", \"button\", 1, \"clear-btn\", 3, \"click\"], [1, \"results-info\"], [1, \"products-grid\"], [\"class\", \"product-card\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"no-results\", 4, \"ngIf\"], [1, \"product-card\"], [1, \"product-image\"], [3, \"src\", \"alt\"], [1, \"favorite-btn\", 3, \"click\"], [1, \"product-info\"], [1, \"price\"], [1, \"description\"], [\"class\", \"watch-details\", 4, \"ngIf\"], [1, \"seller\"], [1, \"listing-details\"], [1, \"time-remaining\"], [\"class\", \"bids-count\", 4, \"ngIf\"], [1, \"listing-times\"], [1, \"posted-time\"], [1, \"ends-time\"], [\"title\", \"Share this listing\", 1, \"share-btn\", 3, \"click\"], [1, \"watch-details\"], [\"class\", \"brand-model\", 4, \"ngIf\"], [\"class\", \"condition\", 4, \"ngIf\"], [1, \"brand-model\"], [1, \"condition\"], [1, \"bids-count\"], [1, \"no-results\"], [1, \"clear-btn\", 3, \"click\"]],\n    template: function DiscoveryComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h1\");\n        i0.ɵɵtext(3, \"Discovery\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"p\");\n        i0.ɵɵtext(5, \"Find your perfect timepiece\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(6, \"div\", 2)(7, \"div\", 3)(8, \"div\", 4)(9, \"input\", 5);\n        i0.ɵɵtwoWayListener(\"ngModelChange\", function DiscoveryComponent_Template_input_ngModelChange_9_listener($event) {\n          i0.ɵɵtwoWayBindingSet(ctx.searchTerm, $event) || (ctx.searchTerm = $event);\n          return $event;\n        });\n        i0.ɵɵlistener(\"keyup.enter\", function DiscoveryComponent_Template_input_keyup_enter_9_listener() {\n          return ctx.performSearch();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"button\", 6);\n        i0.ɵɵlistener(\"click\", function DiscoveryComponent_Template_button_click_10_listener() {\n          return ctx.performSearch();\n        });\n        i0.ɵɵtext(11, \" \\uD83D\\uDD0D \");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(12, \"div\", 7)(13, \"div\", 8)(14, \"label\", 9);\n        i0.ɵɵtext(15, \"Price Range:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"div\", 10)(17, \"input\", 11);\n        i0.ɵɵtwoWayListener(\"ngModelChange\", function DiscoveryComponent_Template_input_ngModelChange_17_listener($event) {\n          i0.ɵɵtwoWayBindingSet(ctx.minPrice, $event) || (ctx.minPrice = $event);\n          return $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"span\");\n        i0.ɵɵtext(19, \"-\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(20, \"input\", 12);\n        i0.ɵɵtwoWayListener(\"ngModelChange\", function DiscoveryComponent_Template_input_ngModelChange_20_listener($event) {\n          i0.ɵɵtwoWayBindingSet(ctx.maxPrice, $event) || (ctx.maxPrice = $event);\n          return $event;\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(21, \"div\", 13)(22, \"label\", 14)(23, \"input\", 15);\n        i0.ɵɵtwoWayListener(\"ngModelChange\", function DiscoveryComponent_Template_input_ngModelChange_23_listener($event) {\n          i0.ɵɵtwoWayBindingSet(ctx.showFavoritesOnly, $event) || (ctx.showFavoritesOnly = $event);\n          return $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"span\");\n        i0.ɵɵtext(25, \"Favorites only\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(26, \"div\", 16)(27, \"button\", 17);\n        i0.ɵɵlistener(\"click\", function DiscoveryComponent_Template_button_click_27_listener() {\n          return ctx.performSearch();\n        });\n        i0.ɵɵtext(28, \" Search \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(29, \"button\", 18);\n        i0.ɵɵlistener(\"click\", function DiscoveryComponent_Template_button_click_29_listener() {\n          return ctx.clearFilters();\n        });\n        i0.ɵɵtext(30, \" Clear Filters \");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(31, \"div\", 19)(32, \"p\");\n        i0.ɵɵtext(33);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(34, \"div\", 20);\n        i0.ɵɵtemplate(35, DiscoveryComponent_div_35_Template, 29, 12, \"div\", 21);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(36, DiscoveryComponent_div_36_Template, 5, 0, \"div\", 22);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(9);\n        i0.ɵɵtwoWayProperty(\"ngModel\", ctx.searchTerm);\n        i0.ɵɵadvance(8);\n        i0.ɵɵtwoWayProperty(\"ngModel\", ctx.minPrice);\n        i0.ɵɵadvance(3);\n        i0.ɵɵtwoWayProperty(\"ngModel\", ctx.maxPrice);\n        i0.ɵɵadvance(3);\n        i0.ɵɵtwoWayProperty(\"ngModel\", ctx.showFavoritesOnly);\n        i0.ɵɵadvance(10);\n        i0.ɵɵtextInterpolate1(\"\", ctx.filteredListings.length, \" items found\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.filteredListings);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"ngIf\", ctx.filteredListings.length === 0);\n      }\n    },\n    dependencies: [CommonModule, i2.NgForOf, i2.NgIf, FormsModule, i3.DefaultValueAccessor, i3.NumberValueAccessor, i3.CheckboxControlValueAccessor, i3.NgControlStatus, i3.NgModel],\n    styles: [\".discovery-page[_ngcontent-%COMP%] {\\n  padding: 20px;\\n  max-width: 1200px;\\n  margin: 0 auto;\\n  min-height: 100vh;\\n  overflow-y: auto;\\n  -webkit-overflow-scrolling: touch;\\n}\\n\\n.page-header[_ngcontent-%COMP%] {\\n  text-align: center;\\n  margin-bottom: 30px;\\n}\\n\\n.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%] {\\n  font-size: 32px;\\n  font-weight: 700;\\n  color: #1f2937;\\n  margin: 0 0 8px 0;\\n}\\n\\n.page-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  color: #6b7280;\\n  margin: 0;\\n}\\n\\n.search-section[_ngcontent-%COMP%] {\\n  background: white;\\n  border-radius: 12px;\\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\\n  padding: 20px;\\n  margin-bottom: 20px;\\n}\\n\\n.search-bar[_ngcontent-%COMP%] {\\n  margin-bottom: 16px;\\n}\\n\\n.search-input-group[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  gap: 8px;\\n}\\n\\n.search-input[_ngcontent-%COMP%] {\\n  flex: 1;\\n  padding: 12px 16px;\\n  border: 1px solid #d1d5db;\\n  border-radius: 8px;\\n  font-size: 16px;\\n  background: #f9fafb;\\n}\\n\\n.search-input[_ngcontent-%COMP%]:focus {\\n  outline: none;\\n  border-color: #1e3a8a;\\n  background: white;\\n}\\n\\n.search-btn[_ngcontent-%COMP%] {\\n  background: #1e3a8a;\\n  color: white;\\n  border: none;\\n  padding: 12px 16px;\\n  border-radius: 8px;\\n  font-size: 16px;\\n  cursor: pointer;\\n  min-width: 44px;\\n  min-height: 44px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n}\\n\\n.search-btn[_ngcontent-%COMP%]:hover {\\n  background: #1e40af;\\n}\\n\\n.filters[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-wrap: wrap;\\n  gap: 16px;\\n  align-items: center;\\n}\\n\\n.price-range[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  gap: 8px;\\n}\\n\\n.price-range[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\\n  font-weight: 600;\\n  color: #374151;\\n  white-space: nowrap;\\n}\\n\\n.price-inputs[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  gap: 8px;\\n}\\n\\n.price-input[_ngcontent-%COMP%] {\\n  width: 80px;\\n  padding: 8px 12px;\\n  border: 1px solid #d1d5db;\\n  border-radius: 6px;\\n  font-size: 14px;\\n  text-align: center;\\n}\\n\\n.price-input[_ngcontent-%COMP%]:focus {\\n  outline: none;\\n  border-color: #1e3a8a;\\n}\\n\\n.favorites-filter[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n}\\n\\n.checkbox-label[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  gap: 8px;\\n  cursor: pointer;\\n  font-weight: 500;\\n  color: #374151;\\n}\\n\\n.checkbox[_ngcontent-%COMP%] {\\n  width: 16px;\\n  height: 16px;\\n  accent-color: #1e3a8a;\\n}\\n\\n.filter-buttons[_ngcontent-%COMP%] {\\n  display: flex;\\n  gap: 12px;\\n  margin-left: auto;\\n}\\n\\n.search-filters-btn[_ngcontent-%COMP%] {\\n  background: #1e3a8a;\\n  color: white;\\n  border: none;\\n  padding: 8px 16px;\\n  border-radius: 6px;\\n  font-size: 14px;\\n  font-weight: 500;\\n  cursor: pointer;\\n  transition: background-color 0.2s;\\n}\\n\\n.search-filters-btn[_ngcontent-%COMP%]:hover {\\n  background: #1e40af;\\n}\\n\\n.clear-btn[_ngcontent-%COMP%] {\\n  background: #6b7280;\\n  color: white;\\n  border: none;\\n  padding: 8px 16px;\\n  border-radius: 6px;\\n  font-size: 14px;\\n  font-weight: 500;\\n  cursor: pointer;\\n  transition: background-color 0.2s;\\n}\\n\\n.clear-btn[_ngcontent-%COMP%]:hover {\\n  background: #4b5563;\\n}\\n\\n.results-info[_ngcontent-%COMP%] {\\n  margin-bottom: 20px;\\n  text-align: center;\\n}\\n\\n.results-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  color: #6b7280;\\n  font-size: 14px;\\n  margin: 0;\\n}\\n\\n.products-grid[_ngcontent-%COMP%] {\\n  display: grid;\\n  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\\n  gap: 20px;\\n  margin-bottom: 40px;\\n}\\n\\n.product-card[_ngcontent-%COMP%] {\\n  background: white;\\n  border-radius: 12px;\\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\\n  overflow: hidden;\\n  position: relative;\\n}\\n\\n.product-image[_ngcontent-%COMP%] {\\n  position: relative;\\n  height: 200px;\\n  background: #f3f4f6;\\n}\\n\\n.product-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\n  width: 100%;\\n  height: 100%;\\n  object-fit: cover;\\n}\\n\\n.favorite-btn[_ngcontent-%COMP%] {\\n  position: absolute;\\n  top: 12px;\\n  right: 12px;\\n  background: rgba(255, 255, 255, 0.9);\\n  border: none;\\n  border-radius: 50%;\\n  width: 36px;\\n  height: 36px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  cursor: pointer;\\n  font-size: 18px;\\n}\\n\\n.share-btn[_ngcontent-%COMP%] {\\n  position: absolute;\\n  bottom: 10px;\\n  right: 10px;\\n  background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%);\\n  color: white;\\n  border: none;\\n  border-radius: 20px;\\n  padding: 8px 16px;\\n  font-size: 12px;\\n  font-weight: 600;\\n  cursor: pointer;\\n  transition: all 0.3s ease;\\n  box-shadow: 0 2px 8px rgba(30, 58, 138, 0.3);\\n  z-index: 10;\\n}\\n.share-btn[_ngcontent-%COMP%]:hover {\\n  transform: translateY(-2px);\\n  box-shadow: 0 4px 12px rgba(30, 58, 138, 0.4);\\n  background: linear-gradient(135deg, #1e40af 0%, #2563eb 100%);\\n}\\n.share-btn[_ngcontent-%COMP%]:active {\\n  transform: translateY(0);\\n  box-shadow: 0 2px 4px rgba(30, 58, 138, 0.3);\\n}\\n\\n.product-info[_ngcontent-%COMP%] {\\n  padding: 16px;\\n}\\n\\n.product-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\n  font-size: 18px;\\n  font-weight: 600;\\n  color: #1f2937;\\n  margin: 0 0 8px 0;\\n}\\n\\n.price[_ngcontent-%COMP%] {\\n  font-size: 20px;\\n  font-weight: 700;\\n  color: #1f2937;\\n  margin: 0 0 8px 0;\\n}\\n\\n.description[_ngcontent-%COMP%] {\\n  color: #6b7280;\\n  margin: 0 0 12px 0;\\n  line-height: 1.4;\\n}\\n\\n.watch-details[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  gap: 4px;\\n  margin-bottom: 12px;\\n  font-size: 12px;\\n}\\n\\n.brand-model[_ngcontent-%COMP%] {\\n  color: #1e40af;\\n  font-weight: 600;\\n}\\n\\n.condition[_ngcontent-%COMP%] {\\n  color: #059669;\\n  font-weight: 500;\\n  text-transform: capitalize;\\n}\\n\\n.seller[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  font-size: 14px;\\n  color: #6b7280;\\n}\\n\\n.listing-details[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  font-size: 12px;\\n  color: #6b7280;\\n  margin-top: 8px;\\n}\\n\\n.time-remaining[_ngcontent-%COMP%] {\\n  color: #dc2626;\\n  font-weight: 600;\\n}\\n\\n.bids-count[_ngcontent-%COMP%] {\\n  color: #059669;\\n  font-weight: 600;\\n}\\n\\n.listing-times[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  gap: 2px;\\n  margin-top: 8px;\\n  font-size: 11px;\\n  color: #9ca3af;\\n}\\n\\n.posted-time[_ngcontent-%COMP%] {\\n  color: #059669;\\n}\\n\\n.ends-time[_ngcontent-%COMP%] {\\n  color: #dc2626;\\n}\\n\\n.no-results[_ngcontent-%COMP%] {\\n  text-align: center;\\n  padding: 40px 20px;\\n  background: white;\\n  border-radius: 12px;\\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\\n}\\n\\n.no-results[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  color: #6b7280;\\n  margin: 0 0 16px 0;\\n  font-size: 16px;\\n}\\n\\n\\n\\n@media (max-width: 768px) {\\n  .filters[_ngcontent-%COMP%] {\\n    flex-direction: column;\\n    align-items: stretch;\\n  }\\n  .price-range[_ngcontent-%COMP%] {\\n    justify-content: space-between;\\n  }\\n  .price-inputs[_ngcontent-%COMP%] {\\n    flex: 1;\\n    justify-content: space-between;\\n  }\\n  .price-input[_ngcontent-%COMP%] {\\n    width: 100px;\\n  }\\n  .filter-buttons[_ngcontent-%COMP%] {\\n    margin-left: 0;\\n    justify-content: center;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvZGlzY292ZXJ5L2Rpc2NvdmVyeS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGFBQUE7RUFDQSxpQkFBQTtFQUNBLGNBQUE7RUFDQSxpQkFBQTtFQUNBLGdCQUFBO0VBQ0EsaUNBQUE7QUFDRjs7QUFFQTtFQUNFLGtCQUFBO0VBQ0EsbUJBQUE7QUFDRjs7QUFFQTtFQUNFLGVBQUE7RUFDQSxnQkFBQTtFQUNBLGNBQUE7RUFDQSxpQkFBQTtBQUNGOztBQUVBO0VBQ0UsY0FBQTtFQUNBLFNBQUE7QUFDRjs7QUFFQTtFQUNFLGlCQUFBO0VBQ0EsbUJBQUE7RUFDQSx3Q0FBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtBQUNGOztBQUVBO0VBQ0UsbUJBQUE7QUFDRjs7QUFFQTtFQUNFLGFBQUE7RUFDQSxtQkFBQTtFQUNBLFFBQUE7QUFDRjs7QUFFQTtFQUNFLE9BQUE7RUFDQSxrQkFBQTtFQUNBLHlCQUFBO0VBQ0Esa0JBQUE7RUFDQSxlQUFBO0VBQ0EsbUJBQUE7QUFDRjs7QUFFQTtFQUNFLGFBQUE7RUFDQSxxQkFBQTtFQUNBLGlCQUFBO0FBQ0Y7O0FBRUE7RUFDRSxtQkFBQTtFQUNBLFlBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7RUFDQSxrQkFBQTtFQUNBLGVBQUE7RUFDQSxlQUFBO0VBQ0EsZUFBQTtFQUNBLGdCQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsdUJBQUE7QUFDRjs7QUFFQTtFQUNFLG1CQUFBO0FBQ0Y7O0FBRUE7RUFDRSxhQUFBO0VBQ0EsZUFBQTtFQUNBLFNBQUE7RUFDQSxtQkFBQTtBQUNGOztBQUVBO0VBQ0UsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsUUFBQTtBQUNGOztBQUVBO0VBQ0UsZ0JBQUE7RUFDQSxjQUFBO0VBQ0EsbUJBQUE7QUFDRjs7QUFFQTtFQUNFLGFBQUE7RUFDQSxtQkFBQTtFQUNBLFFBQUE7QUFDRjs7QUFFQTtFQUNFLFdBQUE7RUFDQSxpQkFBQTtFQUNBLHlCQUFBO0VBQ0Esa0JBQUE7RUFDQSxlQUFBO0VBQ0Esa0JBQUE7QUFDRjs7QUFFQTtFQUNFLGFBQUE7RUFDQSxxQkFBQTtBQUNGOztBQUVBO0VBQ0UsYUFBQTtFQUNBLG1CQUFBO0FBQ0Y7O0FBRUE7RUFDRSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSxRQUFBO0VBQ0EsZUFBQTtFQUNBLGdCQUFBO0VBQ0EsY0FBQTtBQUNGOztBQUVBO0VBQ0UsV0FBQTtFQUNBLFlBQUE7RUFDQSxxQkFBQTtBQUNGOztBQUVBO0VBQ0UsYUFBQTtFQUNBLFNBQUE7RUFDQSxpQkFBQTtBQUNGOztBQUVBO0VBQ0UsbUJBQUE7RUFDQSxZQUFBO0VBQ0EsWUFBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7RUFDQSxlQUFBO0VBQ0EsZ0JBQUE7RUFDQSxlQUFBO0VBQ0EsaUNBQUE7QUFDRjs7QUFFQTtFQUNFLG1CQUFBO0FBQ0Y7O0FBRUE7RUFDRSxtQkFBQTtFQUNBLFlBQUE7RUFDQSxZQUFBO0VBQ0EsaUJBQUE7RUFDQSxrQkFBQTtFQUNBLGVBQUE7RUFDQSxnQkFBQTtFQUNBLGVBQUE7RUFDQSxpQ0FBQTtBQUNGOztBQUVBO0VBQ0UsbUJBQUE7QUFDRjs7QUFFQTtFQUNFLG1CQUFBO0VBQ0Esa0JBQUE7QUFDRjs7QUFFQTtFQUNFLGNBQUE7RUFDQSxlQUFBO0VBQ0EsU0FBQTtBQUNGOztBQUVBO0VBQ0UsYUFBQTtFQUNBLDREQUFBO0VBQ0EsU0FBQTtFQUNBLG1CQUFBO0FBQ0Y7O0FBRUE7RUFDRSxpQkFBQTtFQUNBLG1CQUFBO0VBQ0Esd0NBQUE7RUFDQSxnQkFBQTtFQUNBLGtCQUFBO0FBQ0Y7O0FBRUE7RUFDRSxrQkFBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtBQUNGOztBQUVBO0VBQ0UsV0FBQTtFQUNBLFlBQUE7RUFDQSxpQkFBQTtBQUNGOztBQUVBO0VBQ0Usa0JBQUE7RUFDQSxTQUFBO0VBQ0EsV0FBQTtFQUNBLG9DQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSx1QkFBQTtFQUNBLGVBQUE7RUFDQSxlQUFBO0FBQ0Y7O0FBRUE7RUFDRSxrQkFBQTtFQUNBLFlBQUE7RUFDQSxXQUFBO0VBQ0EsNkRBQUE7RUFDQSxZQUFBO0VBQ0EsWUFBQTtFQUNBLG1CQUFBO0VBQ0EsaUJBQUE7RUFDQSxlQUFBO0VBQ0EsZ0JBQUE7RUFDQSxlQUFBO0VBQ0EseUJBQUE7RUFDQSw0Q0FBQTtFQUNBLFdBQUE7QUFDRjtBQUNFO0VBQ0UsMkJBQUE7RUFDQSw2Q0FBQTtFQUNBLDZEQUFBO0FBQ0o7QUFFRTtFQUNFLHdCQUFBO0VBQ0EsNENBQUE7QUFBSjs7QUFJQTtFQUNFLGFBQUE7QUFERjs7QUFJQTtFQUNFLGVBQUE7RUFDQSxnQkFBQTtFQUNBLGNBQUE7RUFDQSxpQkFBQTtBQURGOztBQUlBO0VBQ0UsZUFBQTtFQUNBLGdCQUFBO0VBQ0EsY0FBQTtFQUNBLGlCQUFBO0FBREY7O0FBSUE7RUFDRSxjQUFBO0VBQ0Esa0JBQUE7RUFDQSxnQkFBQTtBQURGOztBQUlBO0VBQ0UsYUFBQTtFQUNBLHNCQUFBO0VBQ0EsUUFBQTtFQUNBLG1CQUFBO0VBQ0EsZUFBQTtBQURGOztBQUlBO0VBQ0UsY0FBQTtFQUNBLGdCQUFBO0FBREY7O0FBSUE7RUFDRSxjQUFBO0VBQ0EsZ0JBQUE7RUFDQSwwQkFBQTtBQURGOztBQUlBO0VBQ0UsYUFBQTtFQUNBLDhCQUFBO0VBQ0EsbUJBQUE7RUFDQSxlQUFBO0VBQ0EsY0FBQTtBQURGOztBQUlBO0VBQ0UsYUFBQTtFQUNBLDhCQUFBO0VBQ0EsbUJBQUE7RUFDQSxlQUFBO0VBQ0EsY0FBQTtFQUNBLGVBQUE7QUFERjs7QUFJQTtFQUNFLGNBQUE7RUFDQSxnQkFBQTtBQURGOztBQUlBO0VBQ0UsY0FBQTtFQUNBLGdCQUFBO0FBREY7O0FBSUE7RUFDRSxhQUFBO0VBQ0Esc0JBQUE7RUFDQSxRQUFBO0VBQ0EsZUFBQTtFQUNBLGVBQUE7RUFDQSxjQUFBO0FBREY7O0FBSUE7RUFDRSxjQUFBO0FBREY7O0FBSUE7RUFDRSxjQUFBO0FBREY7O0FBSUE7RUFDRSxrQkFBQTtFQUNBLGtCQUFBO0VBQ0EsaUJBQUE7RUFDQSxtQkFBQTtFQUNBLHdDQUFBO0FBREY7O0FBSUE7RUFDRSxjQUFBO0VBQ0Esa0JBQUE7RUFDQSxlQUFBO0FBREY7O0FBSUEsMkJBQUE7QUFDQTtFQUNFO0lBQ0Usc0JBQUE7SUFDQSxvQkFBQTtFQURGO0VBSUE7SUFDRSw4QkFBQTtFQUZGO0VBS0E7SUFDRSxPQUFBO0lBQ0EsOEJBQUE7RUFIRjtFQU1BO0lBQ0UsWUFBQTtFQUpGO0VBT0E7SUFDRSxjQUFBO0lBQ0EsdUJBQUE7RUFMRjtBQUNGIiwic291cmNlc0NvbnRlbnQiOlsiLmRpc2NvdmVyeS1wYWdlIHtcbiAgcGFkZGluZzogMjBweDtcbiAgbWF4LXdpZHRoOiAxMjAwcHg7XG4gIG1hcmdpbjogMCBhdXRvO1xuICBtaW4taGVpZ2h0OiAxMDB2aDtcbiAgb3ZlcmZsb3cteTogYXV0bztcbiAgLXdlYmtpdC1vdmVyZmxvdy1zY3JvbGxpbmc6IHRvdWNoO1xufVxuXG4ucGFnZS1oZWFkZXIge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIG1hcmdpbi1ib3R0b206IDMwcHg7XG59XG5cbi5wYWdlLWhlYWRlciBoMSB7XG4gIGZvbnQtc2l6ZTogMzJweDtcbiAgZm9udC13ZWlnaHQ6IDcwMDtcbiAgY29sb3I6ICMxZjI5Mzc7XG4gIG1hcmdpbjogMCAwIDhweCAwO1xufVxuXG4ucGFnZS1oZWFkZXIgcCB7XG4gIGNvbG9yOiAjNmI3MjgwO1xuICBtYXJnaW46IDA7XG59XG5cbi5zZWFyY2gtc2VjdGlvbiB7XG4gIGJhY2tncm91bmQ6IHdoaXRlO1xuICBib3JkZXItcmFkaXVzOiAxMnB4O1xuICBib3gtc2hhZG93OiAwIDJweCA4cHggcmdiYSgwLCAwLCAwLCAwLjEpO1xuICBwYWRkaW5nOiAyMHB4O1xuICBtYXJnaW4tYm90dG9tOiAyMHB4O1xufVxuXG4uc2VhcmNoLWJhciB7XG4gIG1hcmdpbi1ib3R0b206IDE2cHg7XG59XG5cbi5zZWFyY2gtaW5wdXQtZ3JvdXAge1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBnYXA6IDhweDtcbn1cblxuLnNlYXJjaC1pbnB1dCB7XG4gIGZsZXg6IDE7XG4gIHBhZGRpbmc6IDEycHggMTZweDtcbiAgYm9yZGVyOiAxcHggc29saWQgI2QxZDVkYjtcbiAgYm9yZGVyLXJhZGl1czogOHB4O1xuICBmb250LXNpemU6IDE2cHg7XG4gIGJhY2tncm91bmQ6ICNmOWZhZmI7XG59XG5cbi5zZWFyY2gtaW5wdXQ6Zm9jdXMge1xuICBvdXRsaW5lOiBub25lO1xuICBib3JkZXItY29sb3I6ICMxZTNhOGE7XG4gIGJhY2tncm91bmQ6IHdoaXRlO1xufVxuXG4uc2VhcmNoLWJ0biB7XG4gIGJhY2tncm91bmQ6ICMxZTNhOGE7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgYm9yZGVyOiBub25lO1xuICBwYWRkaW5nOiAxMnB4IDE2cHg7XG4gIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgZm9udC1zaXplOiAxNnB4O1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIG1pbi13aWR0aDogNDRweDtcbiAgbWluLWhlaWdodDogNDRweDtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG59XG5cbi5zZWFyY2gtYnRuOmhvdmVyIHtcbiAgYmFja2dyb3VuZDogIzFlNDBhZjtcbn1cblxuLmZpbHRlcnMge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LXdyYXA6IHdyYXA7XG4gIGdhcDogMTZweDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn1cblxuLnByaWNlLXJhbmdlIHtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgZ2FwOiA4cHg7XG59XG5cbi5wcmljZS1yYW5nZSBsYWJlbCB7XG4gIGZvbnQtd2VpZ2h0OiA2MDA7XG4gIGNvbG9yOiAjMzc0MTUxO1xuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xufVxuXG4ucHJpY2UtaW5wdXRzIHtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgZ2FwOiA4cHg7XG59XG5cbi5wcmljZS1pbnB1dCB7XG4gIHdpZHRoOiA4MHB4O1xuICBwYWRkaW5nOiA4cHggMTJweDtcbiAgYm9yZGVyOiAxcHggc29saWQgI2QxZDVkYjtcbiAgYm9yZGVyLXJhZGl1czogNnB4O1xuICBmb250LXNpemU6IDE0cHg7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cblxuLnByaWNlLWlucHV0OmZvY3VzIHtcbiAgb3V0bGluZTogbm9uZTtcbiAgYm9yZGVyLWNvbG9yOiAjMWUzYThhO1xufVxuXG4uZmF2b3JpdGVzLWZpbHRlciB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG59XG5cbi5jaGVja2JveC1sYWJlbCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGdhcDogOHB4O1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG4gIGNvbG9yOiAjMzc0MTUxO1xufVxuXG4uY2hlY2tib3gge1xuICB3aWR0aDogMTZweDtcbiAgaGVpZ2h0OiAxNnB4O1xuICBhY2NlbnQtY29sb3I6ICMxZTNhOGE7XG59XG5cbi5maWx0ZXItYnV0dG9ucyB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGdhcDogMTJweDtcbiAgbWFyZ2luLWxlZnQ6IGF1dG87XG59XG5cbi5zZWFyY2gtZmlsdGVycy1idG4ge1xuICBiYWNrZ3JvdW5kOiAjMWUzYThhO1xuICBjb2xvcjogd2hpdGU7XG4gIGJvcmRlcjogbm9uZTtcbiAgcGFkZGluZzogOHB4IDE2cHg7XG4gIGJvcmRlci1yYWRpdXM6IDZweDtcbiAgZm9udC1zaXplOiAxNHB4O1xuICBmb250LXdlaWdodDogNTAwO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC4ycztcbn1cblxuLnNlYXJjaC1maWx0ZXJzLWJ0bjpob3ZlciB7XG4gIGJhY2tncm91bmQ6ICMxZTQwYWY7XG59XG5cbi5jbGVhci1idG4ge1xuICBiYWNrZ3JvdW5kOiAjNmI3MjgwO1xuICBjb2xvcjogd2hpdGU7XG4gIGJvcmRlcjogbm9uZTtcbiAgcGFkZGluZzogOHB4IDE2cHg7XG4gIGJvcmRlci1yYWRpdXM6IDZweDtcbiAgZm9udC1zaXplOiAxNHB4O1xuICBmb250LXdlaWdodDogNTAwO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC4ycztcbn1cblxuLmNsZWFyLWJ0bjpob3ZlciB7XG4gIGJhY2tncm91bmQ6ICM0YjU1NjM7XG59XG5cbi5yZXN1bHRzLWluZm8ge1xuICBtYXJnaW4tYm90dG9tOiAyMHB4O1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5cbi5yZXN1bHRzLWluZm8gcCB7XG4gIGNvbG9yOiAjNmI3MjgwO1xuICBmb250LXNpemU6IDE0cHg7XG4gIG1hcmdpbjogMDtcbn1cblxuLnByb2R1Y3RzLWdyaWQge1xuICBkaXNwbGF5OiBncmlkO1xuICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpbGwsIG1pbm1heCgzMDBweCwgMWZyKSk7XG4gIGdhcDogMjBweDtcbiAgbWFyZ2luLWJvdHRvbTogNDBweDtcbn1cblxuLnByb2R1Y3QtY2FyZCB7XG4gIGJhY2tncm91bmQ6IHdoaXRlO1xuICBib3JkZXItcmFkaXVzOiAxMnB4O1xuICBib3gtc2hhZG93OiAwIDJweCA4cHggcmdiYSgwLCAwLCAwLCAwLjEpO1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG59XG5cbi5wcm9kdWN0LWltYWdlIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBoZWlnaHQ6IDIwMHB4O1xuICBiYWNrZ3JvdW5kOiAjZjNmNGY2O1xufVxuXG4ucHJvZHVjdC1pbWFnZSBpbWcge1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xuICBvYmplY3QtZml0OiBjb3Zlcjtcbn1cblxuLmZhdm9yaXRlLWJ0biB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAxMnB4O1xuICByaWdodDogMTJweDtcbiAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjkpO1xuICBib3JkZXI6IG5vbmU7XG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgd2lkdGg6IDM2cHg7XG4gIGhlaWdodDogMzZweDtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgZm9udC1zaXplOiAxOHB4O1xufVxuXG4uc2hhcmUtYnRuIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBib3R0b206IDEwcHg7XG4gIHJpZ2h0OiAxMHB4O1xuICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjMWUzYThhIDAlLCAjM2I4MmY2IDEwMCUpO1xuICBjb2xvcjogd2hpdGU7XG4gIGJvcmRlcjogbm9uZTtcbiAgYm9yZGVyLXJhZGl1czogMjBweDtcbiAgcGFkZGluZzogOHB4IDE2cHg7XG4gIGZvbnQtc2l6ZTogMTJweDtcbiAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICB0cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlO1xuICBib3gtc2hhZG93OiAwIDJweCA4cHggcmdiYSgzMCwgNTgsIDEzOCwgMC4zKTtcbiAgei1pbmRleDogMTA7XG4gIFxuICAmOmhvdmVyIHtcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTJweCk7XG4gICAgYm94LXNoYWRvdzogMCA0cHggMTJweCByZ2JhKDMwLCA1OCwgMTM4LCAwLjQpO1xuICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICMxZTQwYWYgMCUsICMyNTYzZWIgMTAwJSk7XG4gIH1cbiAgXG4gICY6YWN0aXZlIHtcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7XG4gICAgYm94LXNoYWRvdzogMCAycHggNHB4IHJnYmEoMzAsIDU4LCAxMzgsIDAuMyk7XG4gIH1cbn1cblxuLnByb2R1Y3QtaW5mbyB7XG4gIHBhZGRpbmc6IDE2cHg7XG59XG5cbi5wcm9kdWN0LWluZm8gaDMge1xuICBmb250LXNpemU6IDE4cHg7XG4gIGZvbnQtd2VpZ2h0OiA2MDA7XG4gIGNvbG9yOiAjMWYyOTM3O1xuICBtYXJnaW46IDAgMCA4cHggMDtcbn1cblxuLnByaWNlIHtcbiAgZm9udC1zaXplOiAyMHB4O1xuICBmb250LXdlaWdodDogNzAwO1xuICBjb2xvcjogIzFmMjkzNztcbiAgbWFyZ2luOiAwIDAgOHB4IDA7XG59XG5cbi5kZXNjcmlwdGlvbiB7XG4gIGNvbG9yOiAjNmI3MjgwO1xuICBtYXJnaW46IDAgMCAxMnB4IDA7XG4gIGxpbmUtaGVpZ2h0OiAxLjQ7XG59XG5cbi53YXRjaC1kZXRhaWxzIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgZ2FwOiA0cHg7XG4gIG1hcmdpbi1ib3R0b206IDEycHg7XG4gIGZvbnQtc2l6ZTogMTJweDtcbn1cblxuLmJyYW5kLW1vZGVsIHtcbiAgY29sb3I6ICMxZTQwYWY7XG4gIGZvbnQtd2VpZ2h0OiA2MDA7XG59XG5cbi5jb25kaXRpb24ge1xuICBjb2xvcjogIzA1OTY2OTtcbiAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgdGV4dC10cmFuc2Zvcm06IGNhcGl0YWxpemU7XG59XG5cbi5zZWxsZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGZvbnQtc2l6ZTogMTRweDtcbiAgY29sb3I6ICM2YjcyODA7XG59XG5cbi5saXN0aW5nLWRldGFpbHMge1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGZvbnQtc2l6ZTogMTJweDtcbiAgY29sb3I6ICM2YjcyODA7XG4gIG1hcmdpbi10b3A6IDhweDtcbn1cblxuLnRpbWUtcmVtYWluaW5nIHtcbiAgY29sb3I6ICNkYzI2MjY7XG4gIGZvbnQtd2VpZ2h0OiA2MDA7XG59XG5cbi5iaWRzLWNvdW50IHtcbiAgY29sb3I6ICMwNTk2Njk7XG4gIGZvbnQtd2VpZ2h0OiA2MDA7XG59XG5cbi5saXN0aW5nLXRpbWVzIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgZ2FwOiAycHg7XG4gIG1hcmdpbi10b3A6IDhweDtcbiAgZm9udC1zaXplOiAxMXB4O1xuICBjb2xvcjogIzljYTNhZjtcbn1cblxuLnBvc3RlZC10aW1lIHtcbiAgY29sb3I6ICMwNTk2Njk7XG59XG5cbi5lbmRzLXRpbWUge1xuICBjb2xvcjogI2RjMjYyNjtcbn1cblxuLm5vLXJlc3VsdHMge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIHBhZGRpbmc6IDQwcHggMjBweDtcbiAgYmFja2dyb3VuZDogd2hpdGU7XG4gIGJvcmRlci1yYWRpdXM6IDEycHg7XG4gIGJveC1zaGFkb3c6IDAgMnB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMSk7XG59XG5cbi5uby1yZXN1bHRzIHAge1xuICBjb2xvcjogIzZiNzI4MDtcbiAgbWFyZ2luOiAwIDAgMTZweCAwO1xuICBmb250LXNpemU6IDE2cHg7XG59XG5cbi8qIFJlc3BvbnNpdmUgYWRqdXN0bWVudHMgKi9cbkBtZWRpYSAobWF4LXdpZHRoOiA3NjhweCkge1xuICAuZmlsdGVycyB7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICBhbGlnbi1pdGVtczogc3RyZXRjaDtcbiAgfVxuICBcbiAgLnByaWNlLXJhbmdlIHtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gIH1cbiAgXG4gIC5wcmljZS1pbnB1dHMge1xuICAgIGZsZXg6IDE7XG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICB9XG4gIFxuICAucHJpY2UtaW5wdXQge1xuICAgIHdpZHRoOiAxMDBweDtcbiAgfVxuICBcbiAgLmZpbHRlci1idXR0b25zIHtcbiAgICBtYXJnaW4tbGVmdDogMDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgfVxufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n}","map":{"version":3,"names":["FormsModule","CommonModule","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate2","listing_r2","brand","model","ɵɵtextInterpolate1","condition","ɵɵtemplate","DiscoveryComponent_div_35_div_12_span_1_Template","DiscoveryComponent_div_35_div_12_span_2_Template","ɵɵproperty","bids","length","ɵɵelement","ɵɵlistener","DiscoveryComponent_div_35_Template_button_click_3_listener","ɵɵrestoreView","_r1","$implicit","ctx_r2","ɵɵnextContext","ɵɵresetView","toggleFavorite","id","DiscoveryComponent_div_35_div_12_Template","DiscoveryComponent_div_35_span_21_Template","DiscoveryComponent_div_35_Template_button_click_27_listener","shareListing","imageUrl","ɵɵsanitizeUrl","title","isFavorited","ɵɵtextInterpolate","currentPrice","toLocaleString","description","sellerName","getTimeRemaining","endTime","getListingStartTime","createdAt","getListingEndTime","DiscoveryComponent_div_36_Template_button_click_3_listener","_r4","clearFilters","DiscoveryComponent","constructor","dataService","searchTerm","showFavoritesOnly","currentUserId","listings","favorites","ngOnInit","loadListings","loadFavorites","filteredListings","filter","listing","matchesSearch","toLowerCase","includes","matchesPrice","minPrice","maxPrice","matchesFavorites","performSearch","console","log","listingId","removeFromFavorites","addToFavorites","deleteListing","confirm","alert","undefined","now","Date","timeLeft","getTime","hours","Math","floor","minutes","days","month","day","hour","minute","hour12","shareText","navigator","share","text","url","window","location","href","catch","error","fallbackShare","clipboard","writeText","then","getActiveListings","createDemoListings","getUserFavorites","demoListings","generateId","sellerId","startingPrice","status","counteroffers","hasMadeCounteroffer","forEach","saveListing","_","ɵɵdirectiveInject","i1","DataPersistenceService","_2","selectors","decls","vars","consts","template","DiscoveryComponent_Template","rf","ctx","ɵɵtwoWayListener","DiscoveryComponent_Template_input_ngModelChange_9_listener","$event","ɵɵtwoWayBindingSet","DiscoveryComponent_Template_input_keyup_enter_9_listener","DiscoveryComponent_Template_button_click_10_listener","DiscoveryComponent_Template_input_ngModelChange_17_listener","DiscoveryComponent_Template_input_ngModelChange_20_listener","DiscoveryComponent_Template_input_ngModelChange_23_listener","DiscoveryComponent_Template_button_click_27_listener","DiscoveryComponent_Template_button_click_29_listener","DiscoveryComponent_div_35_Template","DiscoveryComponent_div_36_Template","ɵɵtwoWayProperty","i2","NgForOf","NgIf","i3","DefaultValueAccessor","NumberValueAccessor","CheckboxControlValueAccessor","NgControlStatus","NgModel","styles"],"sources":["/Users/colinilgen/watch-ios/src/app/pages/discovery/discovery.component.ts","/Users/colinilgen/watch-ios/src/app/pages/discovery/discovery.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\nimport { Listing } from '../../models/bid.interface';\nimport { DataPersistenceService } from '../../services/data-persistence.service';\n\n@Component({\n  selector: 'app-discovery',\n  standalone: true,\n  imports: [CommonModule, FormsModule],\n  templateUrl: './discovery.component.html',\n  styleUrl: './discovery.component.scss'\n})\nexport class DiscoveryComponent implements OnInit {\n  searchTerm = '';\n  minPrice: number | undefined;\n  maxPrice: number | undefined;\n  showFavoritesOnly = false;\n  \n  // Demo user ID - in production this would come from auth service\n  private currentUserId = 'demo-user-123';\n  \n  listings: Listing[] = [];\n  favorites: string[] = [];\n\n  constructor(private dataService: DataPersistenceService) {}\n\n  ngOnInit() {\n    this.loadListings();\n    this.loadFavorites();\n  }\n\n  get filteredListings(): Listing[] {\n    return this.listings.filter(listing => {\n      const matchesSearch = !this.searchTerm || \n        listing.title.toLowerCase().includes(this.searchTerm.toLowerCase()) ||\n        listing.sellerName.toLowerCase().includes(this.searchTerm.toLowerCase());\n      \n      const matchesPrice = (!this.minPrice || listing.currentPrice >= this.minPrice) &&\n                          (!this.maxPrice || listing.currentPrice <= this.maxPrice);\n      \n      const matchesFavorites = !this.showFavoritesOnly || this.isFavorited(listing.id);\n      \n      return matchesSearch && matchesPrice && matchesFavorites;\n    });\n  }\n\n  performSearch() {\n    // Trigger search - the filteredListings getter will automatically update\n    console.log('Search performed:', this.searchTerm);\n  }\n\n  toggleFavorite(listingId: string) {\n    if (this.isFavorited(listingId)) {\n      this.dataService.removeFromFavorites(this.currentUserId, listingId);\n    } else {\n      this.dataService.addToFavorites(this.currentUserId, listingId);\n    }\n    this.loadFavorites();\n  }\n\n  isFavorited(listingId: string): boolean {\n    return this.dataService.isFavorited(this.currentUserId, listingId);\n  }\n\n  deleteListing(listingId: string) {\n    if (confirm('Are you sure you want to delete this listing?')) {\n      this.dataService.deleteListing(listingId);\n      this.loadListings();\n      alert('Listing deleted successfully!');\n    }\n  }\n\n  clearFilters() {\n    this.searchTerm = '';\n    this.minPrice = undefined;\n    this.maxPrice = undefined;\n    this.showFavoritesOnly = false;\n  }\n\n  getTimeRemaining(endTime: Date): string {\n    const now = new Date();\n    const timeLeft = endTime.getTime() - now.getTime();\n    \n    if (timeLeft <= 0) {\n      return 'Expired';\n    }\n    \n    const hours = Math.floor(timeLeft / (1000 * 60 * 60));\n    const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));\n    \n    if (hours > 24) {\n      const days = Math.floor(hours / 24);\n      return `${days}d ${hours % 24}h`;\n    } else if (hours > 0) {\n      return `${hours}h ${minutes}m`;\n    } else {\n      return `${minutes}m`;\n    }\n  }\n\n  getListingStartTime(createdAt: Date): string {\n    return createdAt.toLocaleString('en-US', {\n      month: 'short',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit',\n      hour12: true\n    });\n  }\n\n  getListingEndTime(endTime: Date): string {\n    return endTime.toLocaleString('en-US', {\n      month: 'short',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  }\n\n  shareListing(listing: Listing) {\n    const shareText = `⌚ ${listing.title} - $${listing.currentPrice.toLocaleString()}\\n\\n` +\n      `📅 Sale ends: ${this.getListingEndTime(listing.endTime)}\\n` +\n      `⏰ Time remaining: ${this.getTimeRemaining(listing.endTime)}\\n\\n` +\n      `Check out this watch on Watch iOS!`;\n\n    // Try to use Web Share API first (mobile devices)\n    if (navigator.share) {\n      navigator.share({\n        title: listing.title,\n        text: shareText,\n        url: window.location.href\n      }).catch((error) => {\n        console.log('Error sharing:', error);\n        this.fallbackShare(shareText);\n      });\n    } else {\n      // Fallback to clipboard copy\n      this.fallbackShare(shareText);\n    }\n  }\n\n  private fallbackShare(shareText: string) {\n    // Copy to clipboard\n    if (navigator.clipboard) {\n      navigator.clipboard.writeText(shareText).then(() => {\n        alert('Listing details copied to clipboard! 📋');\n      }).catch(() => {\n        // Final fallback - show in alert\n        alert(`Share this listing:\\n\\n${shareText}`);\n      });\n    } else {\n      // Final fallback - show in alert\n      alert(`Share this listing:\\n\\n${shareText}`);\n    }\n  }\n\n  private loadListings() {\n    // Get active listings from data service\n    this.listings = this.dataService.getActiveListings();\n    \n    // If no listings exist, create some demo data\n    if (this.listings.length === 0) {\n      this.createDemoListings();\n    }\n  }\n\n  private loadFavorites() {\n    this.favorites = this.dataService.getUserFavorites(this.currentUserId);\n  }\n\n  private createDemoListings() {\n    const demoListings: Listing[] = [\n      {\n        id: this.dataService.generateId(),\n        sellerId: 'seller-1',\n        sellerName: 'LuxuryWatches',\n        title: 'Rolex Submariner',\n        description: 'Classic dive watch with excellent condition',\n        startingPrice: 8500,\n        currentPrice: 8500,\n        imageUrl: '',\n        createdAt: new Date(),\n        endTime: new Date(Date.now() + 48 * 60 * 60 * 1000), // 48 hours from now\n        status: 'active',\n        bids: [],\n        counteroffers: [],\n        hasMadeCounteroffer: false\n      },\n      {\n        id: this.dataService.generateId(),\n        sellerId: 'seller-2',\n        sellerName: 'TimepieceCollector',\n        title: 'Omega Speedmaster',\n        description: 'Moonwatch with original bracelet',\n        startingPrice: 4200,\n        currentPrice: 4200,\n        imageUrl: '',\n        createdAt: new Date(),\n        endTime: new Date(Date.now() + 48 * 60 * 60 * 1000),\n        status: 'active',\n        bids: [],\n        counteroffers: [],\n        hasMadeCounteroffer: false\n      },\n      {\n        id: this.dataService.generateId(),\n        sellerId: 'seller-3',\n        sellerName: 'VintageLuxury',\n        title: 'Cartier Santos',\n        description: 'Elegant square case with leather strap',\n        startingPrice: 6800,\n        currentPrice: 6800,\n        imageUrl: '',\n        createdAt: new Date(),\n        endTime: new Date(Date.now() + 48 * 60 * 60 * 1000),\n        status: 'active',\n        bids: [],\n        counteroffers: [],\n        hasMadeCounteroffer: false\n      },\n      {\n        id: this.dataService.generateId(),\n        sellerId: 'seller-4',\n        sellerName: 'SwissTime',\n        title: 'Tudor Black Bay',\n        description: 'Heritage diver with in-house movement',\n        startingPrice: 3200,\n        currentPrice: 3200,\n        imageUrl: '',\n        createdAt: new Date(),\n        endTime: new Date(Date.now() + 48 * 60 * 60 * 1000),\n        status: 'active',\n        bids: [],\n        counteroffers: [],\n        hasMadeCounteroffer: false\n      },\n      {\n        id: this.dataService.generateId(),\n        sellerId: 'seller-5',\n        sellerName: 'JapaneseWatches',\n        title: 'Seiko Prospex',\n        description: 'Professional diver with excellent lume',\n        startingPrice: 450,\n        currentPrice: 450,\n        imageUrl: '',\n        createdAt: new Date(),\n        endTime: new Date(Date.now() + 48 * 60 * 60 * 1000),\n        status: 'active',\n        bids: [],\n        counteroffers: [],\n        hasMadeCounteroffer: false\n      },\n      {\n        id: this.dataService.generateId(),\n        sellerId: 'seller-6',\n        sellerName: 'SportWatches',\n        title: 'Tag Heuer Carrera',\n        description: 'Chronograph with racing heritage',\n        startingPrice: 2800,\n        currentPrice: 2800,\n        imageUrl: '',\n        createdAt: new Date(),\n        endTime: new Date(Date.now() + 48 * 60 * 60 * 1000),\n        status: 'active',\n        bids: [],\n        counteroffers: [],\n        hasMadeCounteroffer: false\n      }\n    ];\n\n    // Save demo listings\n    demoListings.forEach(listing => {\n      this.dataService.saveListing(listing);\n    });\n\n    // Reload listings\n    this.loadListings();\n  }\n}\n","<div class=\"discovery-page\">\n  <div class=\"page-header\">\n    <h1>Discovery</h1>\n    <p>Find your perfect timepiece</p>\n  </div>\n\n  <!-- Search and Filters -->\n  <div class=\"search-section\">\n    <div class=\"search-bar\">\n      <div class=\"search-input-group\">\n        <input \n          type=\"text\" \n          [(ngModel)]=\"searchTerm\" \n          placeholder=\"Search watches, sellers...\"\n          class=\"search-input\"\n          id=\"search-input\"\n          (keyup.enter)=\"performSearch()\"\n        >\n        <button class=\"search-btn\" (click)=\"performSearch()\" type=\"button\">\n          🔍\n        </button>\n      </div>\n    </div>\n\n    <div class=\"filters\">\n      <div class=\"price-range\">\n        <label for=\"min-price\">Price Range:</label>\n        <div class=\"price-inputs\">\n          <input \n            type=\"number\" \n            [(ngModel)]=\"minPrice\" \n            placeholder=\"Min\"\n            class=\"price-input\"\n            id=\"min-price\"\n          >\n          <span>-</span>\n          <input \n            type=\"number\" \n            [(ngModel)]=\"maxPrice\" \n            placeholder=\"Max\"\n            class=\"price-input\"\n            id=\"max-price\"\n          >\n        </div>\n      </div>\n\n      <div class=\"favorites-filter\">\n        <label class=\"checkbox-label\" for=\"favorites-only\">\n          <input \n            type=\"checkbox\" \n            [(ngModel)]=\"showFavoritesOnly\"\n            class=\"checkbox\"\n            id=\"favorites-only\"\n          >\n          <span>Favorites only</span>\n        </label>\n      </div>\n\n      <div class=\"filter-buttons\">\n        <button class=\"search-filters-btn\" (click)=\"performSearch()\" type=\"button\">\n          Search\n        </button>\n        <button class=\"clear-btn\" (click)=\"clearFilters()\" type=\"button\">\n          Clear Filters\n        </button>\n      </div>\n    </div>\n  </div>\n\n  <!-- Results Count -->\n  <div class=\"results-info\">\n    <p>{{ filteredListings.length }} items found</p>\n  </div>\n\n  <!-- Listings Grid -->\n  <div class=\"products-grid\">\n    <div class=\"product-card\" *ngFor=\"let listing of filteredListings\">\n      <div class=\"product-image\">\n        <img [src]=\"listing.imageUrl || 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjBmMGYwIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzk5OSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPldhdGNoPC90ZXh0Pjwvc3ZnPg=='\" [alt]=\"listing.title\">\n        <button class=\"favorite-btn\" (click)=\"toggleFavorite(listing.id)\">\n          {{ isFavorited(listing.id) ? '❤️' : '🤍' }}\n        </button>\n      </div>\n      <div class=\"product-info\">\n        <h3>{{ listing.title }}</h3>\n        <p class=\"price\">${{ listing.currentPrice.toLocaleString() }}</p>\n        <p class=\"description\">{{ listing.description }}</p>\n        <div class=\"watch-details\" *ngIf=\"listing.brand || listing.model\">\n          <span class=\"brand-model\" *ngIf=\"listing.brand && listing.model\">\n            {{ listing.brand }} {{ listing.model }}\n          </span>\n          <span class=\"condition\" *ngIf=\"listing.condition\">\n            Condition: {{ listing.condition }}\n          </span>\n        </div>\n        <div class=\"seller\">\n          <span>{{ listing.sellerName }}</span>\n          <span>⭐ 4.8</span>\n        </div>\n        <div class=\"listing-details\">\n          <span class=\"time-remaining\">\n            {{ getTimeRemaining(listing.endTime) }} left\n          </span>\n          <span class=\"bids-count\" *ngIf=\"listing.bids.length > 0\">\n            {{ listing.bids.length }} bid{{ listing.bids.length > 1 ? 's' : '' }}\n          </span>\n        </div>\n        <div class=\"listing-times\">\n          <span class=\"posted-time\">\n            Posted: {{ getListingStartTime(listing.createdAt) }}\n          </span>\n          <span class=\"ends-time\">\n            Ends: {{ getListingEndTime(listing.endTime) }}\n          </span>\n        </div>\n        <button class=\"share-btn\" (click)=\"shareListing(listing)\" title=\"Share this listing\">\n          📤 Share\n        </button>\n      </div>\n    </div>\n  </div>\n\n  <!-- No Results Message -->\n  <div class=\"no-results\" *ngIf=\"filteredListings.length === 0\">\n    <p>No listings found matching your criteria</p>\n    <button class=\"clear-btn\" (click)=\"clearFilters()\">Clear Filters</button>\n  </div>\n</div>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}