{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"@angular/forms\";\nfunction SellComponent_div_37_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 11)(1, \"div\", 12)(2, \"h3\");\n    i0.ɵɵtext(3, \"Make Counteroffer\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\");\n    i0.ɵɵtext(5, \"You can make 1 counteroffer per listing. Buyer has 48 hours to respond.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 3)(7, \"label\");\n    i0.ɵɵtext(8, \"Counteroffer Amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"input\", 5);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function SellComponent_div_37_Template_input_ngModelChange_9_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.counterofferForm.amount, $event) || (ctx_r1.counterofferForm.amount = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"div\", 3)(11, \"label\");\n    i0.ɵɵtext(12, \"Message (Optional)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"textarea\", 13);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function SellComponent_div_37_Template_textarea_ngModelChange_13_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.counterofferForm.message, $event) || (ctx_r1.counterofferForm.message = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"div\", 14)(15, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function SellComponent_div_37_Template_button_click_15_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.cancelCounteroffer());\n    });\n    i0.ɵɵtext(16, \"Cancel\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function SellComponent_div_37_Template_button_click_17_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.submitCounteroffer());\n    });\n    i0.ɵɵtext(18, \"Send Counteroffer\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(9);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.counterofferForm.amount);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.counterofferForm.message);\n  }\n}\nfunction SellComponent_div_38_div_3_p_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 33);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const listing_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" Highest Bid: $\", listing_r3.highestBid.amount.toLocaleString(), \" \");\n  }\n}\nfunction SellComponent_div_38_div_3_p_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 34)(1, \"strong\");\n    i0.ɵɵtext(2, \"Counteroffer Made:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \" Yes (1/1 used) \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SellComponent_div_38_div_3_div_22_div_3_button_20_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 43);\n    i0.ɵɵlistener(\"click\", function SellComponent_div_38_div_3_div_22_div_3_button_20_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const bid_r5 = i0.ɵɵnextContext().$implicit;\n      const listing_r3 = i0.ɵɵnextContext(2).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.makeCounteroffer(listing_r3.id, bid_r5.id));\n    });\n    i0.ɵɵtext(1, \" Make Counteroffer \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SellComponent_div_38_div_3_div_22_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 37)(1, \"div\", 38)(2, \"p\")(3, \"strong\");\n    i0.ɵɵtext(4, \"Bidder:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\")(7, \"strong\");\n    i0.ɵɵtext(8, \"Amount:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"p\")(11, \"strong\");\n    i0.ɵɵtext(12, \"Time:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(13);\n    i0.ɵɵpipe(14, \"date\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"div\", 39)(16, \"button\", 40);\n    i0.ɵɵlistener(\"click\", function SellComponent_div_38_div_3_div_22_div_3_Template_button_click_16_listener() {\n      const bid_r5 = i0.ɵɵrestoreView(_r4).$implicit;\n      const listing_r3 = i0.ɵɵnextContext(2).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.acceptBid(listing_r3.id, bid_r5.id));\n    });\n    i0.ɵɵtext(17, \" Accept \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"button\", 41);\n    i0.ɵɵlistener(\"click\", function SellComponent_div_38_div_3_div_22_div_3_Template_button_click_18_listener() {\n      const bid_r5 = i0.ɵɵrestoreView(_r4).$implicit;\n      const listing_r3 = i0.ɵɵnextContext(2).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.declineBid(listing_r3.id, bid_r5.id));\n    });\n    i0.ɵɵtext(19, \" Decline \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(20, SellComponent_div_38_div_3_div_22_div_3_button_20_Template, 2, 0, \"button\", 42);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const bid_r5 = ctx.$implicit;\n    const listing_r3 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", bid_r5.bidderName, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" $\", bid_r5.amount.toLocaleString(), \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(14, 4, bid_r5.timestamp, \"short\"), \"\");\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngIf\", !listing_r3.hasMadeCounteroffer);\n  }\n}\nfunction SellComponent_div_38_div_3_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 35)(1, \"h4\");\n    i0.ɵɵtext(2, \"Pending Bids\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, SellComponent_div_38_div_3_div_22_div_3_Template, 21, 7, \"div\", 36);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const listing_r3 = i0.ɵɵnextContext().$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.getPendingBids(listing_r3));\n  }\n}\nfunction SellComponent_div_38_div_3_div_23_div_3_p_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\")(1, \"strong\");\n    i0.ɵɵtext(2, \"Message:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const counteroffer_r7 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", counteroffer_r7.message, \"\");\n  }\n}\nfunction SellComponent_div_38_div_3_div_23_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 46)(1, \"div\", 47)(2, \"p\")(3, \"strong\");\n    i0.ɵɵtext(4, \"Your Counteroffer:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\")(7, \"strong\");\n    i0.ɵɵtext(8, \"Sent:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(9);\n    i0.ɵɵpipe(10, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(11, SellComponent_div_38_div_3_div_23_div_3_p_11_Template, 4, 1, \"p\", 48);\n    i0.ɵɵelementStart(12, \"p\", 20);\n    i0.ɵɵtext(13, \"Waiting for buyer response...\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const counteroffer_r7 = ctx.$implicit;\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" $\", counteroffer_r7.amount.toLocaleString(), \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(10, 3, counteroffer_r7.timestamp, \"short\"), \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", counteroffer_r7.message);\n  }\n}\nfunction SellComponent_div_38_div_3_div_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 44)(1, \"h4\");\n    i0.ɵɵtext(2, \"Pending Counteroffers\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, SellComponent_div_38_div_3_div_23_div_3_Template, 14, 6, \"div\", 45);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const listing_r3 = i0.ɵɵnextContext().$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.getPendingCounteroffers(listing_r3));\n  }\n}\nfunction SellComponent_div_38_div_3_div_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 49)(1, \"p\");\n    i0.ɵɵtext(2, \"Sale window expired. No bids were accepted.\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction SellComponent_div_38_div_3_div_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 50)(1, \"p\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4, \"Smart contract created. Shipping costs will be split.\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const listing_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"Item sold to \", listing_r3.highestBid.bidderName, \" for $\", listing_r3.highestBid.amount.toLocaleString(), \"\");\n  }\n}\nfunction SellComponent_div_38_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 18)(1, \"div\", 19)(2, \"h3\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\", 20);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 21)(7, \"p\", 22);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"p\", 23);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(11, SellComponent_div_38_div_3_p_11_Template, 2, 1, \"p\", 24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\", 25)(13, \"p\", 26)(14, \"strong\");\n    i0.ɵɵtext(15, \"Time Remaining:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"p\", 27)(18, \"strong\");\n    i0.ɵɵtext(19, \"Bids Received:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(21, SellComponent_div_38_div_3_p_21_Template, 4, 0, \"p\", 28);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(22, SellComponent_div_38_div_3_div_22_Template, 4, 1, \"div\", 29)(23, SellComponent_div_38_div_3_div_23_Template, 4, 1, \"div\", 30)(24, SellComponent_div_38_div_3_div_24_Template, 3, 0, \"div\", 31)(25, SellComponent_div_38_div_3_div_25_Template, 5, 2, \"div\", 32);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const listing_r3 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(listing_r3.title);\n    i0.ɵɵadvance();\n    i0.ɵɵclassMap(listing_r3.status);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(listing_r3.status);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(listing_r3.description);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Starting: $\", listing_r3.startingPrice.toLocaleString(), \"\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", listing_r3.highestBid);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.getTimeRemaining(listing_r3.endTime), \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", listing_r3.bids.length, \" \");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", listing_r3.hasMadeCounteroffer);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.hasPendingBids(listing_r3));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.getPendingCounteroffers(listing_r3).length > 0);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", listing_r3.status === \"expired\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", listing_r3.status === \"sold\" && listing_r3.highestBid);\n  }\n}\nfunction SellComponent_div_38_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 16)(1, \"h2\");\n    i0.ɵɵtext(2, \"Your Active Listings\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, SellComponent_div_38_div_3_Template, 26, 14, \"div\", 17);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.activeListings);\n  }\n}\nexport let SellComponent = /*#__PURE__*/(() => {\n  class SellComponent {\n    constructor() {\n      this.form = {\n        title: '',\n        startingPrice: 0,\n        description: ''\n      };\n      this.activeListings = [];\n      this.showCounterofferForm = false;\n      this.selectedBidForCounteroffer = null;\n      this.counterofferForm = {\n        amount: 0,\n        message: ''\n      };\n      // Initialize with sample data\n      this.loadActiveListings();\n    }\n    submitForm() {\n      if (this.form.title && this.form.startingPrice > 0) {\n        const newListing = {\n          id: Date.now().toString(),\n          sellerId: 'seller1',\n          sellerName: 'John Seller',\n          title: this.form.title,\n          description: this.form.description,\n          startingPrice: this.form.startingPrice,\n          currentPrice: this.form.startingPrice,\n          imageUrl: 'placeholder.jpg',\n          createdAt: new Date(),\n          endTime: new Date(Date.now() + 48 * 60 * 60 * 1000),\n          // 48 hours from now\n          status: 'active',\n          bids: [],\n          counteroffers: [],\n          hasMadeCounteroffer: false\n        };\n        this.activeListings.unshift(newListing);\n        this.form = {\n          title: '',\n          startingPrice: 0,\n          description: ''\n        };\n        alert('Item listed successfully! Bidding window is 48 hours.');\n      } else {\n        alert('Please fill in all required fields');\n      }\n    }\n    loadActiveListings() {\n      // Sample data\n      this.activeListings = [{\n        id: '1',\n        sellerId: 'seller1',\n        sellerName: 'John Seller',\n        title: 'Rolex Submariner',\n        description: 'Classic dive watch in excellent condition',\n        startingPrice: 8500,\n        currentPrice: 9000,\n        imageUrl: 'placeholder.jpg',\n        createdAt: new Date(Date.now() - 24 * 60 * 60 * 1000),\n        // 24 hours ago\n        endTime: new Date(Date.now() + 24 * 60 * 60 * 1000),\n        // 24 hours from now\n        status: 'active',\n        bids: [{\n          id: 'bid1',\n          itemId: '1',\n          bidderId: 'buyer1',\n          bidderName: 'Mike Buyer',\n          amount: 9000,\n          timestamp: new Date(Date.now() - 2 * 60 * 60 * 1000),\n          // 2 hours ago\n          status: 'pending'\n        }],\n        counteroffers: [],\n        hasMadeCounteroffer: false\n      }];\n      // Set highest bid\n      this.activeListings.forEach(listing => {\n        if (listing.bids.length > 0) {\n          listing.highestBid = listing.bids.reduce((highest, current) => current.amount > highest.amount ? current : highest);\n        }\n      });\n    }\n    getTimeRemaining(endTime) {\n      const now = new Date();\n      const timeLeft = endTime.getTime() - now.getTime();\n      if (timeLeft <= 0) {\n        return 'Expired';\n      }\n      const hours = Math.floor(timeLeft / (1000 * 60 * 60));\n      const minutes = Math.floor(timeLeft % (1000 * 60 * 60) / (1000 * 60));\n      return `${hours}h ${minutes}m remaining`;\n    }\n    getPendingBids(listing) {\n      return listing.bids.filter(bid => bid.status === 'pending');\n    }\n    hasPendingBids(listing) {\n      return this.getPendingBids(listing).length > 0;\n    }\n    acceptBid(listingId, bidId) {\n      const listing = this.activeListings.find(l => l.id === listingId);\n      if (listing) {\n        const bid = listing.bids.find(b => b.id === bidId);\n        if (bid) {\n          bid.status = 'accepted';\n          listing.status = 'sold';\n          alert(`Bid accepted! Smart contract will be created. Shipping costs will be split.`);\n        }\n      }\n    }\n    declineBid(listingId, bidId) {\n      const listing = this.activeListings.find(l => l.id === listingId);\n      if (listing) {\n        const bid = listing.bids.find(b => b.id === bidId);\n        if (bid) {\n          bid.status = 'declined';\n          // Remove from highest bid if it was the highest\n          if (listing.highestBid?.id === bidId) {\n            const remainingBids = listing.bids.filter(b => b.status === 'pending');\n            listing.highestBid = remainingBids.length > 0 ? remainingBids.reduce((highest, current) => current.amount > highest.amount ? current : highest) : undefined;\n          }\n          alert('Bid declined.');\n        }\n      }\n    }\n    makeCounteroffer(listingId, bidId) {\n      const listing = this.activeListings.find(l => l.id === listingId);\n      if (listing && !listing.hasMadeCounteroffer) {\n        const bid = listing.bids.find(b => b.id === bidId);\n        if (bid) {\n          this.selectedBidForCounteroffer = bid;\n          this.counterofferForm.amount = bid.amount + 500; // Suggest 500 more\n          this.showCounterofferForm = true;\n        }\n      } else if (listing?.hasMadeCounteroffer) {\n        alert('You have already made a counteroffer for this listing.');\n      }\n    }\n    submitCounteroffer() {\n      if (this.selectedBidForCounteroffer && this.counterofferForm.amount > 0) {\n        const listing = this.activeListings.find(l => l.bids.some(b => b.id === this.selectedBidForCounteroffer?.id));\n        if (listing) {\n          const counteroffer = {\n            id: Date.now().toString(),\n            originalBidId: this.selectedBidForCounteroffer.id,\n            sellerId: listing.sellerId,\n            sellerName: listing.sellerName,\n            amount: this.counterofferForm.amount,\n            timestamp: new Date(),\n            status: 'pending',\n            message: this.counterofferForm.message\n          };\n          listing.counteroffers.push(counteroffer);\n          listing.hasMadeCounteroffer = true;\n          // Update the original bid status\n          const originalBid = listing.bids.find(b => b.id === this.selectedBidForCounteroffer?.id);\n          if (originalBid) {\n            originalBid.status = 'counteroffered';\n          }\n          this.showCounterofferForm = false;\n          this.selectedBidForCounteroffer = null;\n          this.counterofferForm = {\n            amount: 0,\n            message: ''\n          };\n          alert(`Counteroffer sent for $${this.counterofferForm.amount.toLocaleString()}. Buyer has 48 hours to respond.`);\n        }\n      } else {\n        alert('Please enter a valid counteroffer amount.');\n      }\n    }\n    cancelCounteroffer() {\n      this.showCounterofferForm = false;\n      this.selectedBidForCounteroffer = null;\n      this.counterofferForm = {\n        amount: 0,\n        message: ''\n      };\n    }\n    getPendingCounteroffers(listing) {\n      return listing.counteroffers.filter(co => co.status === 'pending');\n    }\n    static {\n      this.ɵfac = function SellComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || SellComponent)();\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: SellComponent,\n        selectors: [[\"app-sell\"]],\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 39,\n        vars: 5,\n        consts: [[1, \"sell-page\"], [1, \"page-header\"], [1, \"sell-form\"], [1, \"form-group\"], [\"type\", \"text\", \"placeholder\", \"e.g., Rolex Submariner\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"number\", \"placeholder\", \"0\", 3, \"ngModelChange\", \"ngModel\"], [\"placeholder\", \"Describe your item...\", 3, \"ngModelChange\", \"ngModel\"], [1, \"sale-window-info\"], [1, \"submit-btn\", 3, \"click\"], [\"class\", \"counteroffer-modal\", 4, \"ngIf\"], [\"class\", \"active-listings\", 4, \"ngIf\"], [1, \"counteroffer-modal\"], [1, \"modal-content\"], [\"placeholder\", \"Add a message to the buyer...\", 3, \"ngModelChange\", \"ngModel\"], [1, \"modal-actions\"], [1, \"cancel-btn\", 3, \"click\"], [1, \"active-listings\"], [\"class\", \"listing-card\", 4, \"ngFor\", \"ngForOf\"], [1, \"listing-card\"], [1, \"listing-header\"], [1, \"status\"], [1, \"listing-details\"], [1, \"description\"], [1, \"price\"], [\"class\", \"current-price\", 4, \"ngIf\"], [1, \"sale-window\"], [1, \"time-remaining\"], [1, \"bid-count\"], [\"class\", \"counteroffer-status\", 4, \"ngIf\"], [\"class\", \"pending-bids\", 4, \"ngIf\"], [\"class\", \"counteroffers\", 4, \"ngIf\"], [\"class\", \"expired-notice\", 4, \"ngIf\"], [\"class\", \"sold-notice\", 4, \"ngIf\"], [1, \"current-price\"], [1, \"counteroffer-status\"], [1, \"pending-bids\"], [\"class\", \"bid-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"bid-item\"], [1, \"bid-details\"], [1, \"bid-actions\"], [1, \"accept-btn\", 3, \"click\"], [1, \"decline-btn\", 3, \"click\"], [\"class\", \"counteroffer-btn\", 3, \"click\", 4, \"ngIf\"], [1, \"counteroffer-btn\", 3, \"click\"], [1, \"counteroffers\"], [\"class\", \"counteroffer-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"counteroffer-item\"], [1, \"counteroffer-details\"], [4, \"ngIf\"], [1, \"expired-notice\"], [1, \"sold-notice\"]],\n        template: function SellComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h1\");\n            i0.ɵɵtext(3, \"Sell\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(4, \"p\");\n            i0.ɵɵtext(5, \"List your item for bidding - 48-hour sale window\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(6, \"div\", 2)(7, \"div\", 3)(8, \"label\");\n            i0.ɵɵtext(9, \"Title\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(10, \"input\", 4);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function SellComponent_Template_input_ngModelChange_10_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.form.title, $event) || (ctx.form.title = $event);\n              return $event;\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(11, \"div\", 3)(12, \"label\");\n            i0.ɵɵtext(13, \"Starting Price\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(14, \"input\", 5);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function SellComponent_Template_input_ngModelChange_14_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.form.startingPrice, $event) || (ctx.form.startingPrice = $event);\n              return $event;\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(15, \"div\", 3)(16, \"label\");\n            i0.ɵɵtext(17, \"Description\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(18, \"textarea\", 6);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function SellComponent_Template_textarea_ngModelChange_18_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.form.description, $event) || (ctx.form.description = $event);\n              return $event;\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(19, \"div\", 7)(20, \"h3\");\n            i0.ɵɵtext(21, \"Sale Window\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(22, \"p\");\n            i0.ɵɵtext(23, \"Your item will be available for bidding for 48 hours\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(24, \"ul\")(25, \"li\");\n            i0.ɵɵtext(26, \"Bidders can place offers during this time\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(27, \"li\");\n            i0.ɵɵtext(28, \"You'll receive notifications for new bids\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(29, \"li\");\n            i0.ɵɵtext(30, \"You have 48 hours to accept or decline the highest bid\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(31, \"li\");\n            i0.ɵɵtext(32, \"You can make 1 counteroffer per listing\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(33, \"li\");\n            i0.ɵɵtext(34, \"If accepted, a smart contract will be created\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(35, \"button\", 8);\n            i0.ɵɵlistener(\"click\", function SellComponent_Template_button_click_35_listener() {\n              return ctx.submitForm();\n            });\n            i0.ɵɵtext(36, \"List Item for Bidding\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵtemplate(37, SellComponent_div_37_Template, 19, 2, \"div\", 9)(38, SellComponent_div_38_Template, 4, 1, \"div\", 10);\n            i0.ɵɵelementEnd();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(10);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.form.title);\n            i0.ɵɵadvance(4);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.form.startingPrice);\n            i0.ɵɵadvance(4);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.form.description);\n            i0.ɵɵadvance(19);\n            i0.ɵɵproperty(\"ngIf\", ctx.showCounterofferForm);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.activeListings.length > 0);\n          }\n        },\n        dependencies: [CommonModule, i1.NgForOf, i1.NgIf, i1.DatePipe, FormsModule, i2.DefaultValueAccessor, i2.NumberValueAccessor, i2.NgControlStatus, i2.NgModel],\n        styles: [\".sell-page[_ngcontent-%COMP%]{padding:20px;max-width:600px;margin:0 auto}.page-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px;font-weight:700;color:#1f2937;margin:0 0 8px}.page-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;margin:0}.sell-form[_ngcontent-%COMP%]{background:#fff;padding:24px;border-radius:12px;box-shadow:0 2px 8px #0000001a;margin-bottom:30px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#374151;margin-bottom:8px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:12px;border:1px solid #d1d5db;border-radius:8px;font-size:16px}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:100px;resize:vertical}.sale-window-info[_ngcontent-%COMP%]{background:#f3f4f6;padding:16px;border-radius:8px;margin-bottom:20px}.sale-window-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;color:#1f2937;font-size:18px}.sale-window-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 12px;color:#6b7280}.sale-window-info[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:20px;color:#6b7280}.sale-window-info[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:4px}.submit-btn[_ngcontent-%COMP%]{width:100%;background:#1e3a8a;color:#fff;border:none;padding:12px;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer}.submit-btn[_ngcontent-%COMP%]:hover{background:#1e40af}.counteroffer-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;z-index:1000;display:flex;align-items:center;justify-content:center}.modal-content[_ngcontent-%COMP%]{background:#fff;padding:24px;border-radius:12px;max-width:500px;width:90%;max-height:80vh;overflow-y:auto}.modal-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;color:#1f2937}.modal-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 20px;color:#6b7280}.modal-actions[_ngcontent-%COMP%]{display:flex;gap:12px;margin-top:20px}.cancel-btn[_ngcontent-%COMP%]{flex:1;background:#6b7280;color:#fff;border:none;padding:12px;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer}.cancel-btn[_ngcontent-%COMP%]:hover{background:#4b5563}.active-listings[_ngcontent-%COMP%]{margin-top:30px}.active-listings[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;color:#1f2937}.listing-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a;padding:20px;margin-bottom:20px}.listing-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.listing-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#1f2937;font-size:20px}.status[_ngcontent-%COMP%]{padding:4px 12px;border-radius:20px;font-size:12px;font-weight:600;text-transform:uppercase}.status.active[_ngcontent-%COMP%]{background:#dbeafe;color:#1e40af}.status.expired[_ngcontent-%COMP%]{background:#fee2e2;color:#dc2626}.status.sold[_ngcontent-%COMP%]{background:#dcfce7;color:#16a34a}.listing-details[_ngcontent-%COMP%]{margin-bottom:16px}.listing-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 8px;color:#6b7280}.listing-details[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%], .listing-details[_ngcontent-%COMP%]   .current-price[_ngcontent-%COMP%]{font-weight:600;color:#1f2937}.sale-window[_ngcontent-%COMP%]{background:#f9fafb;padding:12px;border-radius:8px;margin-bottom:16px}.sale-window[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 4px;font-size:14px;color:#6b7280}.sale-window[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{margin-bottom:0}.pending-bids[_ngcontent-%COMP%]{margin-bottom:20px}.pending-bids[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 12px;color:#1f2937;font-size:16px}.bid-item[_ngcontent-%COMP%]{background:#f9fafb;padding:16px;border-radius:8px;margin-bottom:12px}.bid-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 4px;font-size:14px;color:#6b7280}.bid-actions[_ngcontent-%COMP%]{display:flex;gap:8px;margin-top:12px;flex-wrap:wrap}.accept-btn[_ngcontent-%COMP%], .decline-btn[_ngcontent-%COMP%], .counteroffer-btn[_ngcontent-%COMP%]{padding:8px 16px;border:none;border-radius:6px;font-size:14px;font-weight:600;cursor:pointer;flex:1;min-width:80px}.accept-btn[_ngcontent-%COMP%]{background:#16a34a;color:#fff}.accept-btn[_ngcontent-%COMP%]:hover{background:#15803d}.decline-btn[_ngcontent-%COMP%]{background:#dc2626;color:#fff}.decline-btn[_ngcontent-%COMP%]:hover{background:#b91c1c}.counteroffer-btn[_ngcontent-%COMP%]{background:#f59e0b;color:#fff}.counteroffer-btn[_ngcontent-%COMP%]:hover{background:#d97706}.counteroffers[_ngcontent-%COMP%]{margin-bottom:20px}.counteroffers[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 12px;color:#1f2937;font-size:16px}.counteroffer-item[_ngcontent-%COMP%]{background:#fef3c7;padding:16px;border-radius:8px;margin-bottom:12px;border-left:4px solid #f59e0b}.counteroffer-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 4px;font-size:14px;color:#6b7280}.counteroffer-details[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{font-weight:600;color:#f59e0b}.expired-notice[_ngcontent-%COMP%], .sold-notice[_ngcontent-%COMP%]{background:#f3f4f6;padding:16px;border-radius:8px;text-align:center}.expired-notice[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .sold-notice[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#6b7280}.sold-notice[_ngcontent-%COMP%]{background:#dcfce7;border-left:4px solid #16a34a}\"]\n      });\n    }\n  }\n  return SellComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}