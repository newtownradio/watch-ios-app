<div class="auth-container">
  <div class="auth-tabs">
    <button 
      [class.active]="activeTab === 'login'" 
      (click)="setActiveTab('login')"
      class="tab-button">
      Login
    </button>
    <button 
      [class.active]="activeTab === 'register'" 
      (click)="setActiveTab('register')"
      class="tab-button">
      Register
    </button>
  </div>

  <!-- Login Form -->
  <div *ngIf="activeTab === 'login'" class="auth-form">
    <h2>Login</h2>
    <form (ngSubmit)="login()">
      <div class="form-group">
        <label for="loginEmail">Email</label>
        <input 
          type="email" 
          id="loginEmail"
          [(ngModel)]="loginData.email" 
          name="loginEmail"
          required>
      </div>
      <div class="form-group">
        <label for="loginPassword">Password</label>
        <input 
          type="password" 
          id="loginPassword"
          [(ngModel)]="loginData.password" 
          name="loginPassword"
          required>
      </div>
      <button type="submit" class="submit-btn">Login</button>
    </form>
    
    <p class="forgot-password">
      <a (click)="setActiveTab('forgot')">Forgot Password?</a>
    </p>
    
    <!-- Demo Account for App Store Reviewers -->
    <div class="demo-account-section">
      <p class="demo-label">For App Store Reviewers:</p>
      <button type="button" class="demo-btn" (click)="createDemoAccount()">
        Create Demo Account
      </button>
      <p class="demo-credentials">
        <strong>Demo Login:</strong><br>
        Email: demo@watchios.com<br>
        Password: Demo123!
      </p>
    </div>
  </div>

  <!-- Register Form -->
  <div *ngIf="activeTab === 'register'" class="auth-form">
    <h2>Register</h2>
    <form (ngSubmit)="register()">
      <div class="form-group">
        <label for="registerName">Name</label>
        <input 
          type="text" 
          id="registerName"
          [(ngModel)]="registerData.name" 
          name="registerName"
          required>
      </div>
      <div class="form-group">
        <label for="registerEmail">Email</label>
        <input 
          type="email" 
          id="registerEmail"
          [(ngModel)]="registerData.email" 
          name="registerEmail"
          required>
      </div>
      <div class="form-group">
        <label for="registerPassword">Password</label>
        <input 
          type="password" 
          id="registerPassword"
          [(ngModel)]="registerData.password" 
          name="registerPassword"
          required>
      </div>
      <div class="form-group">
        <label for="confirmPassword">Confirm Password</label>
        <input 
          type="password" 
          id="confirmPassword"
          [(ngModel)]="registerData.confirmPassword" 
          name="confirmPassword"
          required>
      </div>
      
      <!-- Policy Agreements -->
      <div class="form-group checkbox-group">
        <label class="checkbox-label">
          <input 
            type="checkbox" 
            [(ngModel)]="registerData.privacyPolicy" 
            name="privacyPolicy"
            required>
          I agree to the <a href="#" (click)="showPrivacyPolicy($event)">Privacy Policy</a>
        </label>
      </div>
      
      <div class="form-group checkbox-group">
        <label class="checkbox-label">
          <input 
            type="checkbox" 
            [(ngModel)]="registerData.cookiePolicy" 
            name="cookiePolicy"
            required>
          I agree to the <a href="#" (click)="showCookiePolicy($event)">Cookie Policy</a>
        </label>
      </div>
      
      <div class="form-group checkbox-group">
        <label class="checkbox-label">
          <input 
            type="checkbox" 
            [(ngModel)]="registerData.termsConditions" 
            name="termsConditions"
            required>
          I agree to the <a href="#" (click)="showTermsConditions($event)">Terms & Conditions</a>
        </label>
      </div>
      
      <button type="submit" class="submit-btn" [disabled]="!isRegistrationValid()">Register</button>
    </form>
  </div>

  <!-- Forgot Password Form -->
  <div *ngIf="activeTab === 'forgot'" class="auth-form">
    <h2>Forgot Password</h2>
    <form (ngSubmit)="forgotPassword()">
      <div class="form-group">
        <label for="forgotEmail">Email</label>
        <input 
          type="email" 
          id="forgotEmail"
          [(ngModel)]="forgotPasswordData.email" 
          name="forgotEmail"
          required>
      </div>
      <button type="submit" class="submit-btn">Send Reset Code</button>
    </form>
    
    <p class="back-to-login">
      <a (click)="setActiveTab('login')">Back to Login</a>
    </p>
  </div>

  <!-- Reset Password Form -->
  <div *ngIf="activeTab === 'reset'" class="auth-form">
    <h2>Reset Password</h2>
    <form (ngSubmit)="resetPassword()">
      <div class="form-group">
        <label for="resetEmail">Email</label>
        <input 
          type="email" 
          id="resetEmail"
          [(ngModel)]="resetPasswordData.email" 
          name="resetEmail"
          required>
      </div>
      <div class="form-group">
        <label for="resetCode">Verification Code</label>
        <input 
          type="text" 
          id="resetCode"
          [(ngModel)]="resetPasswordData.code" 
          name="resetCode"
          required>
      </div>
      <div class="form-group">
        <label for="resetPassword">New Password</label>
        <input 
          type="password" 
          id="resetPassword"
          [(ngModel)]="resetPasswordData.password" 
          name="resetPassword"
          required>
      </div>
      <div class="form-group">
        <label for="resetConfirmPassword">Confirm New Password</label>
        <input 
          type="password" 
          id="resetConfirmPassword"
          [(ngModel)]="resetPasswordData.confirmPassword" 
          name="resetConfirmPassword"
          required>
      </div>
      <button type="submit" class="submit-btn">Reset Password</button>
    </form>
    <p class="back-to-login">
      <a (click)="setActiveTab('login')">Back to Login</a>
    </p>
  </div>
</div>
