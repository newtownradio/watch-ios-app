<div class="pricing-calculator">
  <h3>Pricing Breakdown</h3>
  
  <div class="price-input">
    <label for="item-price">Item Price ($)</label>
    <input 
      type="number" 
      id="item-price"
      [(ngModel)]="itemPrice" 
      (ngModelChange)="calculatePricing()"
      placeholder="Enter item price"
      min="0"
      step="0.01"
    >
  </div>

  <div class="verification-partner">
    <label for="verification-partner">Verification Partner</label>
    <select 
      id="verification-partner"
      [(ngModel)]="selectedPartnerId" 
      (ngModelChange)="calculatePricing()"
    >
      <option *ngFor="let partner of verificationPartners" [value]="partner.id">
        {{ partner.name }} - ${{ partner.cost }} ({{ partner.turnaroundTime }})
      </option>
    </select>
  </div>

  <div class="pricing-breakdown" *ngIf="pricing">
    <div class="breakdown-item">
      <span>Item Price:</span>
      <span>${{ pricing.itemPrice.toLocaleString() }}</span>
    </div>
    
    <div class="breakdown-item">
      <span>Shipping:</span>
      <span>${{ pricing.shippingCost.toLocaleString() }}</span>
    </div>
    
    <div class="breakdown-item">
      <span>Verification ({{ getSelectedPartnerName() }}):</span>
      <span>${{ pricing.verificationCost.toLocaleString() }}</span>
    </div>
    
    <div class="breakdown-item">
      <span>Commission ({{ getCommissionTier() }}):</span>
      <span>${{ pricing.commissionFee.toLocaleString() }}</span>
    </div>
    
    <div class="breakdown-item">
      <span>Insurance:</span>
      <span>${{ pricing.insuranceCost.toLocaleString() }}</span>
    </div>
    
    <div class="breakdown-item total">
      <span>Total Amount:</span>
      <span>${{ pricing.totalAmount.toLocaleString() }}</span>
    </div>
  </div>

  <div class="verification-info" *ngIf="selectedPartner">
    <p><strong>{{ selectedPartner.name }}</strong></p>
    <p>{{ selectedPartner.description }}</p>
    <p>Turnaround: {{ selectedPartner.turnaroundTime }}</p>
  </div>

  <div class="commission-info" *ngIf="pricing">
    <h4>Commission Tier Information</h4>
    <div class="tier-breakdown">
      <div class="tier-item" [class.active]="isActiveTier(0, 5000)">
        <span class="tier-range">$0 - $5,000</span>
        <span class="tier-rate">15%</span>
        <span class="tier-label">Standard</span>
      </div>
      <div class="tier-item" [class.active]="isActiveTier(5000, 15000)">
        <span class="tier-range">$5,000 - $15,000</span>
        <span class="tier-rate">10%</span>
        <span class="tier-label">Premium</span>
      </div>
      <div class="tier-item" [class.active]="isActiveTier(15000, Infinity)">
        <span class="tier-range">$15,000+</span>
        <span class="tier-rate">5%</span>
        <span class="tier-label">Luxury</span>
      </div>
    </div>
    <p class="tier-note">* Commission rate automatically applied based on item price</p>
  </div>
</div>